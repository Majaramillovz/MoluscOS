<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>MOLUSCOS // GRANADA_ARCILLA</title>
    <style>
        /* --- TEMA VISUAL: AZUL COBALTO (TÉCNICO/PROFUNDO) --- */
        :root {
            --fondo: #000000;
            --tema: #0044FF; /* Azul Oscuro puro */
            --gris:  #333333;
            --rojo-aviso: #FF4444;
            --blanco: #ffffff;
        }
        * { box-sizing: border-box; }
        
        html {
            min-height: 100%;
            background-color: var(--fondo);
        }

        body {
            width: 100%;
            min-height: 100vh;
            margin: 0;
            padding: 5px;
            background-color: var(--fondo);
            color: var(--tema);
            font-family: 'Courier New', Courier, monospace;
            display: flex;
            justify-content: center;
            overflow-x: hidden;
        }

        .container {
            width: 100%;
            max-width: 720px;
            height: auto; 
            min-height: calc(100vh - 10px);
            border: 2px solid var(--tema);
            padding: 15px;
            background: rgba(0, 5, 20, 0.85);
            display: flex;
            flex-direction: column;
            position: relative;
            padding-bottom: 120px; 
            box-shadow: inset 0 0 25px rgba(0, 68, 255, 0.15);
        }

        /* BOTONES DE NAVEGACIÓN Y DESCARGA */
        .back-link, .download-btn {
            display: inline-block;
            color: #000;
            background: var(--tema);
            padding: 5px 12px;
            text-decoration: none;
            font-weight: 900;
            margin-bottom: 25px;
            text-transform: uppercase;
            font-size: 0.9rem;
            width: fit-content;
            box-shadow: 3px 3px 0px var(--gris);
            border: 1px solid var(--tema);
            cursor: pointer;
        }
        .back-link:active, .download-btn:active { transform: translate(2px, 2px); box-shadow: none; background: #fff; }

        .download-btn {
            margin-top: 10px;
            font-size: 0.8rem;
            background: #fff;
            color: var(--tema);
        }

        /* TIPOGRAFÍA */
        h1 { 
            border-bottom: 2px dashed var(--tema); 
            padding-bottom: 15px; 
            font-size: 1.4rem; 
            text-transform: uppercase; 
            margin-top: 10px; 
            text-shadow: 0 0 8px var(--tema);
            letter-spacing: 1px;
        }
        
        h2 { 
            background: var(--tema); 
            color: #000; 
            display: block; 
            padding: 5px 10px; 
            font-size: 1rem; 
            margin-top: 35px; 
            margin-bottom: 15px;
            font-weight: 900; 
            text-transform: uppercase;
            border-left: 5px solid #000;
        }

        h3 {
            color: var(--tema);
            border-bottom: 1px dotted var(--tema);
            padding-bottom: 5px;
            margin-top: 25px;
            font-size: 0.95rem;
            text-transform: uppercase;
        }
        
        p, li { 
            line-height: 1.6; 
            color: #ddd; 
            font-size: 0.95rem; 
            text-align: justify; 
            margin-bottom: 15px;
        }

        /* --- ESTILOS DE LA IMAGEN PEQUEÑA --- */
        .technical-image-container {
            margin: 25px 0;
            border: 2px solid var(--tema);
            padding: 5px;
            background: rgba(0,0,0,0.5);
            cursor: pointer; 
            transition: transform 0.2s;
        }
        .technical-image-container:hover {
            transform: scale(1.02);
            box-shadow: 0 0 15px var(--tema);
        }

        .technical-image {
            width: 100%;
            height: auto;
            display: block;
        }
        .img-caption {
            font-size: 0.8rem;
            color: var(--tema);
            text-align: center;
            padding: 5px;
            border-top: 1px dotted var(--tema);
            font-weight: bold;
        }
        .click-hint {
            font-size: 0.7rem;
            text-align: center;
            color: #fff;
            background: var(--tema);
            color: #000;
            font-weight: bold;
        }

        /* --- ESTILOS DEL VISUALIZADOR (MODAL) --- */
        .modal {
            display: none; 
            position: fixed; 
            z-index: 2000; 
            padding-top: 50px; 
            left: 0;
            top: 0;
            width: 100%; 
            height: 100%; 
            overflow: auto; 
            background-color: rgba(0,0,0,0.95); 
        }

        .modal-content {
            margin: auto;
            display: block;
            width: 95%;
            max-width: 1200px;
            border: 2px solid var(--tema);
            box-shadow: 0 0 30px var(--tema);
            animation-name: zoom;
            animation-duration: 0.3s;
        }

        .close {
            position: absolute;
            top: 15px;
            right: 35px;
            color: var(--tema);
            font-size: 40px;
            font-weight: bold;
            transition: 0.3s;
            cursor: pointer;
        }
        .close:hover { color: #fff; }

        @keyframes zoom {
            from {transform:scale(0)} 
            to {transform:scale(1)}
        }

        /* OTROS ESTILOS */
        ul, ol { padding-left: 25px; }
        li::marker { color: var(--tema); font-weight: bold; content: ">> "; }
        strong.highlight { color: var(--tema); background: rgba(0, 68, 255, 0.2); padding: 0 3px;}

        .warning-box {
            border: 2px dashed var(--rojo-aviso);
            background: rgba(50, 0, 0, 0.3);
            padding: 15px;
            margin: 20px 0;
            color: var(--rojo-aviso);
            font-weight: bold;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .warning-icon { font-size: 1.5rem; }

        .footer-section { margin-top: auto; padding-top: 40px; text-align: center; }
        .credits { font-size: 11px; color: #666; letter-spacing: 1px; padding-bottom: 10px; border-top: 1px solid var(--gris); padding-top: 15px; }

        .nav-pad {
            position: fixed; bottom: 25px; right: 25px; z-index: 1000;
            display: flex; flex-direction: column; gap: 15px;
        }
        .nav-btn {
            background: rgba(0,0,0,0.9); color: var(--tema); border: 2px solid var(--tema);
            width: 50px; height: 50px; font-size: 20px; cursor: crosshair;
            display: flex; align-items: center; justify-content: center;
            box-shadow: 0 0 15px var(--tema); opacity: 0.8;
            transition: all 0.1s;
        }
        .nav-btn:active { background: var(--tema); color: #000; transform: scale(0.95); box-shadow: 0 0 5px var(--tema); }

    </style>
</head>
<body>

<div class="nav-pad">
    <button class="nav-btn" onmousedown="playRadioClick()" onclick="scrollUp()">▲</button>
    <button class="nav-btn" onmousedown="playRadioClick()" onclick="scrollDown()">▼</button>
</div>

<div id="myModal" class="modal" onclick="closeModal()">
  <span class="close">&times;</span>
  <img class="modal-content" id="img01">
</div>

<div class="container">
    <a href="index.html" class="back-link" onmousedown="playRadioClick()">< REGRESAR</a>
    
    <h1>MANUAL: GRANADA DE ARCILLA (MK-2 BIO)</h1>
    
    <section>
        <h2>00_PRINCIPIO_DE_OPERACIÓN</h2>
        <p>
            La "Granada MK-2 BIO" es un dispositivo de <strong class="highlight">reforestación táctica</strong>. Imita la forma de un explosivo militar para utilizar su geometría fragmentaria en beneficio de la naturaleza: la carcasa dura de arcilla protege las semillas de aves, roedores y el sol directo hasta que las condiciones son propicias.
        </p>
        <p>
            Al recibir suficiente lluvia (erosión hídrica), la arcilla se disuelve ("detona"), liberando las semillas junto con el abono interno, garantizando un alto porcentaje de germinación en terrenos hostiles.
        </p>
    </section>

    <div class="technical-image-container" onclick="openModal(this); playRadioClick();">
        <div class="click-hint">[ CLIC PARA AMPLIAR ]</div>
        <img src="granada-esquema.jpg" alt="Esquema técnico de la granada" class="technical-image">
        <div class="img-caption">FIG.1: ANATOMÍA DE LA GRANADA DE COMPOSTAJE</div>
    </div>

    <section>
        <h2>01_MATRIZ 3D Y MOLDEO</h2>
        <p>
            El cuerpo de la granada se modela a mano, pero el mecanismo del gatillo (espoleta) requiere precisión para encajar. Utilizaremos impresión 3D para crear el "positivo" y luego haremos un molde.
        </p>
        <ul>
            <li><strong>Descargar STL:</strong> Archivo "Trigger_MK2_Bio.stl".</li>
            <li><strong>Impresión:</strong> Usar PLA o PETG con altura de capa 0.2mm.</li>
            <li><strong>Molde:</strong> Sumergir la pieza impresa en una caja con Yeso de París para crear un molde negativo de dos partes.</li>
        </ul>
        
        <a href="#" class="download-btn" onclick="alert('Iniciando descarga simulada del STL...')">[⬇ DESCARGAR ARCHIVO STL]</a>

        <div class="technical-image-container" onclick="openModal(this); playRadioClick();">
            <div class="click-hint">[ CLIC PARA AMPLIAR ]</div>
            <img src="granada-fase1.jpg" alt="Proceso de impresión y molde" class="technical-image">
            <div class="img-caption">FIG.2: IMPRESIÓN 3D Y VACIADO EN YESO</div>
        </div>
    </section>

    <section>
        <h2>02_MODELADO DEL CUERPO (CARGA)</h2>
        <p>
            Esta es la fase crítica. Usaremos arcilla roja natural.
        </p>
        <ol>
            <li><strong>Forma Base:</strong> Modela un óvalo hueco (tipo huevo) con paredes de 1cm de grosor. Rellénalo con la mezcla de <em>Compost + Tierra + Semillas pequeñas</em>.</li>
            <li><strong>Blindaje (Sembrado):</strong> Inserta granos de maíz o frijol grandes en la superficie exterior. 
            <br><strong class="highlight">IMPORTANTE:</strong> El "germen" (la punta blanca del grano) debe ir hacia ADENTRO, enterrado en la arcilla. Si queda expuesto, el sol lo matará.</li>
        </ol>

        <div class="technical-image-container" onclick="openModal(this); playRadioClick();">
            <div class="click-hint">[ CLIC PARA AMPLIAR ]</div>
            <img src="granada-fase2.jpg" alt="Modelado del cuerpo" class="technical-image">
            <div class="img-caption">FIG.3: INSERCIÓN GEOMÉTRICA DE SEMILLAS</div>
        </div>
    </section>

    <section>
        <h2>03_FABRICACIÓN DEL SEGURO</h2>
        <p>
            El anillo y el pasador son puramente estéticos pero funcionales para el transporte (permiten colgar la granada).
        </p>
        <ul>
            <li>Modela un "churro" o cilindro fino de arcilla.</li>
            <li>Dale forma circular (3cm de diámetro) y deja secar al sol hasta que endurezca (estado de cuero).</li>
        </ul>

        <div class="technical-image-container" onclick="openModal(this); playRadioClick();">
            <div class="click-hint">[ CLIC PARA AMPLIAR ]</div>
            <img src="granada-fase3.jpg" alt="Modelado del aro" class="technical-image">
            <div class="img-caption">FIG.4: DETALLE DEL ANILLO DE ARCILLA</div>
        </div>
    </section>

    <section>
        <h2>04_ENSAMBLAJE FINAL</h2>
        <p>
            Une todas las piezas antes de que la arcilla se seque por completo.
        </p>
        <ol>
            <li>Prepara <strong>Barbotina</strong> (mezcla de arcilla y agua con consistencia de yogur) para usar como pegamento.</li>
            <li>Aplica barbotina en la base del gatillo (que sacaste del molde de yeso de la Fase 1) y únelo al cuerpo de la granada.</li>
            <li>Inserta el anillo en el orificio del gatillo.</li>
            <li>Deja secar a la sombra durante 48 horas para evitar grietas.</li>
        </ol>

        <div class="technical-image-container" onclick="openModal(this); playRadioClick();">
            <div class="click-hint">[ CLIC PARA AMPLIAR ]</div>
            <img src="granada-fase4.jpg" alt="Ensamblaje con barbotina" class="technical-image">
            <div class="img-caption">FIG.5: UNIÓN CON BARBOTINA</div>
        </div>
    </section>

    <div class="warning-box">
        <span class="warning-icon">[!]</span>
        <span>ADVERTENCIA: DISPOSITIVO DE VIDA. No lanzar contra personas (peso aprox 300g). Diseñado para "detonación" lenta por erosión hídrica en zonas deforestadas.</span>
    </div>

    <div class="footer-section">
        <div class="credits">
            [MoluscOS] -- [GPLv3]
        </div>
    </div>
</div>

<script>
    // --- LÓGICA DEL MODAL INTELIGENTE ---
    var modal = document.getElementById("myModal");
    var modalImg = document.getElementById("img01");

    function openModal(element){
        var img = element.querySelector('img'); 
        modal.style.display = "block";
        modalImg.src = img.src;
    }

    function closeModal() {
        modal.style.display = "none";
    }

    // --- SONIDO ---
    const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    
    function playRadioClick() {
        if (audioCtx.state === 'suspended') audioCtx.resume();
        
        const osc = audioCtx.createOscillator();
        const noise = audioCtx.createBufferSource();
        const gain = audioCtx.createGain();
        const filter = audioCtx.createBiquadFilter();

        const bufferSize = audioCtx.sampleRate * 0.1; 
        const buffer = audioCtx.createBuffer(1, bufferSize, audioCtx.sampleRate);
        const data = buffer.getChannelData(0);
        for (let i = 0; i < bufferSize; i++) {
            data[i] = Math.random() * 2 - 1;
        }
        noise.buffer = buffer;

        filter.type = 'bandpass';
        filter.frequency.value = 1200;
        filter.Q.value = 1.5;

        osc.type = 'sawtooth';
        osc.frequency.setValueAtTime(150, audioCtx.currentTime);
        osc.frequency.exponentialRampToValueAtTime(50, audioCtx.currentTime + 0.1);
        
        gain.gain.setValueAtTime(0.2, audioCtx.currentTime);
        gain.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + 0.15);

        noise.connect(filter);
        filter.connect(gain);
        osc.connect(gain);
        gain.connect(audioCtx.destination);

        osc.start();
        noise.start();
        osc.stop(audioCtx.currentTime + 0.15);
        noise.stop(audioCtx.currentTime + 0.15);
    }

    function scrollDown() { window.scrollBy({ top: 350, behavior: 'smooth' }); }
    function scrollUp() { window.scrollBy({ top: -350, behavior: 'smooth' }); }
</script>

</body>
</html>
